---
title: 小程序功能代码
date: 2018-08-31 17:33:03
tags: 微信小程序
---
1.点击从底部出现下拉菜单 本例中写了两个选项 如果你点击其中一个选项 下拉菜单会默认的可以得到你点击的选项的index 本例中是根据index调用小程序中的另一个方法实现从本地文件中选取图片或者使用手机拍摄功能的
<!-- more -->
```
  actioncnt: function () {
    wx.showActionSheet({
      itemList: ['从相册选择', '拍摄'],
      success: function (res) {
        if(res.tapIndex==0){
          wx.chooseImage({
            count: 1, // 默认9  
            sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有  
            sourceType: ['album'], // 可以指定来源是相册还是相机，默认二者都有  
            success: function (res) {
              // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片  
              _this.setData({
                tempFilePaths: res.tempFilePaths
              })
            }
          })  
        } else if (res.tapIndex == 1){
            wx.chooseImage({
              count: 1, // 默认9  
              sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有  
              sourceType: ['camera'], // 可以指定来源是相册还是相机，默认二者都有  
              success: function (res) {
                // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片  
                _this.setData({
                  tempFilePaths: res.tempFilePaths
                })
              }
          })
        }
      },
      ```